#! /bin/sh
#
# This forms the basis for the ncxx4-config utility, which tells you
# various things about the netCDF C++ library installation.

prefix="/home/ceoas/chenchon/pism/local_stack"
exec_prefix="/home/ceoas/chenchon/pism/local_stack"
libdir="/home/ceoas/chenchon/pism/local_stack/lib64"
includedir="/home/ceoas/chenchon/pism/local_stack/include"

cc="/fs1/local/ceoas/spack/opt/spack/linux-rocky9-sandybridge/gcc-13.2.0/openmpi-5.0.5-gpan6gdak7hjotoqee2umdghes7xfv2r/bin/mpicc"
cxx="/fs1/local/ceoas/spack/opt/spack/linux-rocky9-sandybridge/gcc-13.2.0/openmpi-5.0.5-gpan6gdak7hjotoqee2umdghes7xfv2r/bin/mpicxx"

cflags="-I/home/ceoas/chenchon/pism/local_stack/include"

libs="-L/home/ceoas/chenchon/pism/local_stack/lib64 -lnetcdf-cxx4 -lnetcdf"

version="netcdf-cxx4 4.3.1"

usage()
{
    cat <<EOF
Usage: ncxx4-config [OPTION]

Available values for OPTION include:

  --help        display this help message and exit
  --all         display all options
  --cc          C compiler
  --cxx         C++ compiler
  --cflags      pre-processor and compiler flags
  --libs        library linking information for netcdf
  --prefix      Install prefix
  --includedir  Include directory
  --libdir      Library directory
  --version     Library version

EOF

    exit $1
}

all()
{
        echo
        echo "This $version has been built with the following features: "
        echo
        echo "  --cc        -> $cc"
        echo "  --cflags    -> $cflags"
        echo "  --libs      -> $libs"
        echo
        echo "  --cxx       -> $cxx"
        echo
        echo "  --prefix    -> $prefix"
        echo "  --includedir-> $includedir"
        echo "  --libdir    -> $libdir"
        echo "  --version   -> $version"
        echo
}

if test $# -eq 0; then
    usage 1
fi

while test $# -gt 0; do
    case "$1" in
    # this deals with options in the style
    # --option=value and extracts the value part
    # [not currently used]
    -*=*) value=$(echo "$1" | sed 's/[-_a-zA-Z0-9]*=//') ;;
    *) value= ;;
    esac

    case "$1" in

    --help)
    usage 0
    ;;

    --all)
    all
    ;;

    --cc)
    echo $cc
    ;;

    --cxx)
    echo $cxx
    ;;

    --cflags)
    echo $cflags
    ;;

     --libs)
        echo $libs
        ;;

    --prefix)
        echo "${prefix}"
        ;;

    --includedir)
        echo "${includedir}"
        ;;

    --libdir)
        echo "${libdir}"
        ;;

    --version)
    echo $version
    ;;

    *)
        echo "unknown option: $1"
    usage
    exit 1
    ;;
    esac
    shift
done

exit 0
